{"version":3,"sources":["components/ViewTable.js","App.js","index.js"],"names":["ViewTable","props","Object","keys","stockList","map","stockItem","i","react_default","a","createElement","key","className","change","toUpperCase","price","lastUpdated","App","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","updatedStockData","state","stockData","_this2","socket","WebSocket","concat","addEventListener","event","send","handleStockUpdate","data","updatedData","_this3","JSON","parse","forEach","stock","Date","toLocaleString","timeZone","setState","stringify","components_ViewTable","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"yNAeeA,SAbG,SAACC,GAUf,OATSC,OAAOC,KAAKF,EAAMG,WAAWC,IAAI,SAACC,EAAWC,GAClD,OACIC,EAAAC,EAAAC,cAAA,MAAIC,IAAKJ,EAAGK,UAAWX,EAAMG,UAAUE,GAAWO,QAC9CL,EAAAC,EAAAC,cAAA,cAAMJ,EAAUQ,cAAhB,KACAN,EAAAC,EAAAC,cAAA,UAAKT,EAAMG,UAAUE,GAAWS,OAChCP,EAAAC,EAAAC,cAAA,UAAKT,EAAMG,UAAUE,GAAWU,kBCmDjCC,cAvDX,SAAAA,IAAa,IAAAC,EAAA,OAAAhB,OAAAiB,EAAA,EAAAjB,CAAAkB,KAAAH,IACTC,EAAAhB,OAAAmB,EAAA,EAAAnB,CAAAkB,KAAAlB,OAAAoB,EAAA,EAAApB,CAAAe,GAAAM,KAAAH,QAGJI,iBAAmB,GAFfN,EAAKO,MAAQ,CAACC,UAAY,IAFjBR,mFAMO,IAAAS,EAAAP,KAEVQ,EAAS,IAAIC,UAAJ,GAAAC,OADL,6BAEVF,EAAOG,iBAAiB,OAAO,SAACC,GAC5BJ,EAAOK,KAAK,oBAEhBL,EAAOG,iBAAiB,UAAW,SAACC,GAChCL,EAAKO,kBAAkBF,EAAMG,kDAInBC,GAAa,IAAAC,EAAAjB,MAC3BgB,EAAcE,KAAKC,MAAMH,IACbI,QAAQ,SAACC,GACjBJ,EAAKb,iBAAiBiB,EAAM,IAAM,CAAC1B,MAAQ0B,EAAM,GAAIzB,aAAa,IAAI0B,MAAOC,eAAe,QAAS,CAACC,SAAU,kBAC7GP,EAAKZ,MAAMC,UAAUe,EAAM,MACvBJ,EAAKZ,MAAMC,UAAUe,EAAM,IAAI1B,MAAQsB,EAAKb,iBAAiBiB,EAAM,IAAI1B,MACtEsB,EAAKb,iBAAiBiB,EAAM,IAAI5B,OAAS,WAGzCwB,EAAKb,iBAAiBiB,EAAM,IAAI5B,OAAS,cAKrDO,KAAKyB,SAAS,CAAEnB,UAAWY,KAAKC,MAAMD,KAAKQ,UAAU1B,KAAKI,sDAG1D,OACIhB,EAAAC,EAAAC,cAAA,OAAKE,UAAW,gBACZJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,mCAAd,cACAJ,EAAAC,EAAAC,cAAA,SAAOE,UAAU,8CACbJ,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,4BAGJF,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAACqC,EAAD,CAAW3C,UAAagB,KAAKK,MAAMC,sBA/CrCsB,IAAMC,WCExBC,IAASC,OAAO3C,EAAAC,EAAAC,cAAC0C,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.e502736e.chunk.js","sourcesContent":["import React from 'react';\n\nconst ViewTable = (props) => {\n    let tr = Object.keys(props.stockList).map((stockItem, i) => {\n        return (\n            <tr key={i} className={props.stockList[stockItem].change}>\n                <td> {stockItem.toUpperCase()} </td>\n                <td>{props.stockList[stockItem].price}</td>\n                <td>{props.stockList[stockItem].lastUpdated}</td>\n            </tr>\n        );\n    });\n    return tr;\n}\n\nexport default ViewTable;","import React from 'react';\nimport './App.css';\nimport ViewTable from './components/ViewTable';\nclass App extends React.Component {\n    constructor(){\n        super();\n        this.state = {stockData : []};\n    }\n    updatedStockData = {};\n\n    componentDidMount() {\n        let url = 'ws://stocks.mnet.website';\n        const socket = new WebSocket(`${url}`);\n        socket.addEventListener('open',(event)=>{\n            socket.send('Hello Server !');\n        });\n        socket.addEventListener('message', (event)=>{\n            this.handleStockUpdate(event.data);\n        });\n    }\n\n    handleStockUpdate(updatedData) {\n        updatedData = JSON.parse(updatedData);\n        updatedData.forEach((stock) => {\n            this.updatedStockData[stock[0]] = {price : stock[1], lastUpdated: new Date().toLocaleString(\"en-US\", {timeZone: \"Asia/Kolkata\"})};\n            if(this.state.stockData[stock[0]]) {\n                if(this.state.stockData[stock[0]].price > this.updatedStockData[stock[0]].price) {\n                    this.updatedStockData[stock[0]].change = 'negative';\n                }\n                else {\n                    this.updatedStockData[stock[0]].change = 'positive';\n                }\n\n            }\n        });\n        this.setState({ stockData: JSON.parse(JSON.stringify(this.updatedStockData)) });\n    }\n    render() {\n        return(\n            <div className ='ui container'>\n                <h2 className='ui header center aligned orange'>Stock Data</h2>\n                <table className='ui celled table center aligned unstackable'>\n                    <thead>\n                    <tr>\n                        <th>Stock Name</th>\n                        <th>Price</th>\n                        <th>Last Updated</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <ViewTable stockList = {this.state.stockData} />\n                    </tbody>\n                </table>\n            </div>\n\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}