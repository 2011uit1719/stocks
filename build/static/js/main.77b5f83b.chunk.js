(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(2),s=a.n(o),l=(a(14),a(3)),r=a(4),i=a(6),u=a(5),d=a(7),k=(a(15),function(e){return console.log(e.stockList),Object.keys(e.stockList).map(function(t,a){return c.a.createElement("tr",{key:a,className:e.stockList[t].change},c.a.createElement("td",null," ",t.toUpperCase()," "),c.a.createElement("td",null,e.stockList[t].price),c.a.createElement("td",null,e.stockList[t].lastUpdated))})}),p=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).updatedStockData={},e.state={stockData:[]},e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new WebSocket("ws://stocks.mnet.website");t.addEventListener("open",function(e){t.send("Hello Server !")}),t.addEventListener("message",function(t){e.handleStockUpdate(t.data)})}},{key:"handleStockUpdate",value:function(e){var t=this;(e=JSON.parse(e)).forEach(function(e){t.updatedStockData[e[0]]={price:e[1],lastUpdated:(new Date).toLocaleString("en-US",{timeZone:"Asia/Kolkata"})},t.state.stockData[e[0]]&&(t.state.stockData[e[0]].price>t.updatedStockData[e[0]].price?t.updatedStockData[e[0]].change="negative":t.updatedStockData[e[0]].change="positive")}),this.setState({stockData:JSON.parse(JSON.stringify(this.updatedStockData))})}},{key:"render",value:function(){return c.a.createElement("div",{className:"ui container"},c.a.createElement("h2",{className:"ui header center aligned orange"},"Stock Data"),c.a.createElement("table",{className:"ui celled table center aligned unstackable"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Stock Name"),c.a.createElement("th",null,"Price"),c.a.createElement("th",null,"Last Updated"))),c.a.createElement("tbody",null,c.a.createElement(k,{stockList:this.state.stockData}))))}}]),t}(c.a.Component);s.a.render(c.a.createElement(p,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.77b5f83b.chunk.js.map